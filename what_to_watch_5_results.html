{% extends "layout.html" %}
{% block content %}
    <h3>Find the movie you want to watch down below!</h3>
    <br>
    <div class="content-section">
        <form method="POST" action="">
            {{ form.hidden_tag() }}
            <fieldset class="form-group mb-4">
                <legend class="border-bottom mb-4">What To Watch</legend>
                <div class="form-group mb-4">
                    {{ form.genre.label(class="form-control-label") }}
                    {% if form.genre.errors %}
                        {{ form.genre(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.genre.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.genre(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group mb-4">
                    {{ form.rating.label(class="form-control-label") }}
                    {% if form.rating.errors %}
                        {{ form.rating(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.rating.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.rating(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group mb-4">
                    {{ form.run_time.label(class="form-control-label") }}
                    {% if form.run_time.errors %}
                        {{ form.run_time(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.run_time.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.run_time(class="form-control form-control-lg") }}
                    {% endif %}
                </div>

                <!-- Part I added for implementing keywords -->

                <div class="form-group mb-4">
                    {{ form.keywords.label(class="form-control-label") }}
                    {% if form.keywords.errors %}
                        {{ form.keywords(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.keywords.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.keywords(class="form-control form-control-lg") }}
                    {% endif %}
                </div>

                <!-- end of added part -->

                <div class="form-group mb-4">
                    {{ form.number_of_results.label(class="form-control-label") }}
                    {% if form.number_of_results.errors %}
                        {{ form.number_of_results(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.number_of_results.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.number_of_results(class="form-control form-control-lg") }}
                    {% endif %}
                </div>

            </fieldset>
            <div class="form-group">
                {{ form.submit(class="btn btn-outline-info") }}
            </div>
        </form>
    </div>

<table>
    <tr>
        <td style="vertical-align: top; padding: 20px;">
            <h3>{{ results[0].Name }}</h3>
            <p>{{ results[0].Description }}</p>
            <img src="{{ results[0].Poster }}" alt="Movie Poster" width="200">
        </td>
        <td style="vertical-align: top; padding: 20px;">
            <h3>{{ results[1].Name }}</h3>
            <p>{{ results[1].Description }}</p>
            <img src="{{ results[1].Poster }}" alt="Movie Poster" width="200">
        </td>
        <td style="vertical-align: top; padding: 20px;">
            <h3>{{ results[2].Name }}</h3>
            <p>{{ results[2].Description }}</p>
            <img src="{{ results[2].Poster }}" alt="Movie Poster" width="200">
        </td>
    </tr>
    <tr>
        <td style="vertical-align: top; padding: 20px;">
            <h3>{{ results[3].Name }}</h3>
            <p>{{ results[3].Description }}</p>
            <img src="{{ results[3].Poster }}" alt="Movie Poster" width="200">
        </td>
        <td style="vertical-align: top; padding: 20px;">
            <h3>{{ results[4].Name }}</h3>
            <p>{{ results[4].Description }}</p>
            <img src="{{ results[4].Poster }}" alt="Movie Poster" width="200">
        </td>
    </tr>
</table>
{% endblock content %}